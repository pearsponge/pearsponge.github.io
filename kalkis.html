<!doctype html>
<html lang="no">

<head>
    <title>Alkis-kalkis</title>
    <meta charset="utf-8">
    <style>
        body {
            background: rgb(0, 0, 0);
            background: linear-gradient(0deg, rgba(0, 0, 0, 1) 0%, rgb(122, 49, 0) 100%);
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            height: 100%;
            margin: 0;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }

        #hovedvindu {
            background-color: rgb(139, 139, 139);
            border: 2px solid black;
            width: 60%;
            margin: auto;
            margin-top: 20px;
            display: block;
            padding: 10px;
        }

        .underDiv {
            background-color: rgb(139, 139, 139);
            border: 2px solid black;
            width: 60%;
            margin: auto;
            margin-top: 20px;
            display: none;
            padding: 10px;
            overflow: auto;
        }

        .lukk {
            width: 80px;
            height: 20px;
            float: right;
        }

        .lukk:hover {
            cursor: pointer;
            background-color: darkgray;
        }

        button {
            padding: 10px;
            color: black;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 4px;
            background: linear-gradient(rgba(255, 255, 255, 0.2), transparent);
            background-color: rgb(139, 139, 139);
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.7);
            outline: none;
            cursor: pointer;
        }

        button:active {
            transform: translate(1px, 1px);
            /* 1 px til høyre og 1 px ned */
        }
    </style>
</head>

<body>
    <div id="hovedvindu">
        <h1>Alkis-kalkis</h1>
        <p>Volum (L):</p>
        <input type="number" id="liter">
        <p>Alkoholprosent (%):</p>
        <input type="number" id="prosent"><br>
        <p id="resultat"></p>
        <button id="blanding">Jeg ønsker en spesifikk prosent</button>
        <button id="blandevann">Jeg har blandevann</button>
    </div>

    <div id="blandeDiv" class="underDiv">
        <p id="lukkBlandeDiv" class="lukk">Lukk vindu</p>
        <h2>Blanding</h2>
        <p>Ønsket prosent (%):</p>
        <input type="number" id="onsketProsent">
        <p id="blandeResultat"></p>
    </div>

    <div id="blandevannDiv" class="underDiv">
        <p id="lukkBlandevannDiv" class="lukk">Lukk vindu</p>
        <h2>Blandevann</h2>
        <p>Mengde blandevann (L):</p>
        <input type="number" id="mengdeBlandevann">
        <p id="blandevannResultat"></p>
    </div>
    <script>
        let hovedvinduEl = document.querySelector("#hovedvindu");
        let literEl = document.querySelector("#liter");
        let prosentEl = document.querySelector("#prosent");
        let resultatEl = document.querySelector("#resultat");

        let blandeknappEl = document.querySelector("#blanding");
        let lukkBlandeDivEl = document.querySelector("#lukkBlandeDiv")
        let blandeDivEl = document.querySelector("#blandeDiv");
        let onsketProsentEl = document.querySelector("#onsketProsent");
        let blandeResultatEl = document.querySelector("#blandeResultat");

        let blandevannKnappEl = document.querySelector("#blandevann");
        let lukkBlandevannDivEl = document.querySelector("#lukkBlandevannDiv");
        let blandevannDivEl = document.querySelector("#blandevannDiv");
        let mengdeBlandevannEl = document.querySelector("#mengdeBlandevann");
        let blandevannResultatEl = document.querySelector("#blandevannResultat");

        

        let liter = "";
        let prosent = "";

        literEl.addEventListener("input", kalkuler)
        prosentEl.addEventListener("input", kalkuler)

        function kalkuler() {
            liter = literEl.value;
            prosent = prosentEl.value
            let alkohol = liter * prosent / 100;

            antallPils = (alkohol / 0.0225).toFixed(2);   //En pils inneholder 0,0225 liter alkohol

            resultatEl.innerHTML = "Dette tilsvarer " + antallPils + " pils."
        }

        onsketProsentEl.addEventListener("input", bland);
        function bland() {
            let onsketProsent = onsketProsentEl.value;
            let forhold = prosent / onsketProsent;
            let blandevann = ((forhold - 1) * liter).toFixed(2) ;
            if(blandevann == "Infinity"){
            blandeResultatEl.innerHTML = "";
            }
            else{
                blandeResultatEl.innerHTML = "For å få ønsket prosent trenger du " + blandevann + " liter blandevann";
            }

        }

        mengdeBlandevannEl.addEventListener("input",finnProsent)
        function finnProsent(){
            let mengdeBlandevann = mengdeBlandevannEl.value;
            let forhold = mengdeBlandevann / liter;
            let nyProsent = (prosent / (forhold + 1)).toFixed(2);
            blandevannResultatEl.innerHTML = "Med " + mengdeBlandevann + " liter blandevann blir drikken din " + nyProsent + "%";
        }

        blandeknappEl.addEventListener("click", visBlanding);
        function visBlanding() {
            blandeDivEl.style.display = "block";
            blandevannDivEl.style.display = "none";
        }
        lukkBlandeDivEl.addEventListener("click", lukkBlandeDiv)
        function lukkBlandeDiv() {
            blandeDivEl.style.display = "none";
        }

        blandevannKnappEl.addEventListener("click", visBlandevann);
        function visBlandevann() {
            blandevannDivEl.style.display = "block";
            blandeDivEl.style.display = "none";
        }
        lukkBlandevannDivEl.addEventListener("click", lukkBlandevannDiv)
        function lukkBlandevannDiv() {
            blandevannDivEl.style.display = "none";
        }
    </script>
</body>

</html>